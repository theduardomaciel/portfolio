---
import BaseLayout from "@layouts/BaseLayout.astro";
import BlogLayout from "@layouts/BlogLayout.astro";

import Footer from "@components/Footer.astro";
import Header from "@components/Header/Header.astro";

import { getAllPosts, getAllTags } from "src/lib/sanity/api";

import type { PostTag } from "src/lib/sanity/getTagsFromPost";
import BlogHome from "@components/BlogHome.astro";

const posts = await getAllPosts();
const tags = (await getAllTags()) as PostTag[];

const seo = {
    title: "Blog",
    description: "The blog of my simple porfolio.",
};
---

<BaseLayout seo={seo}>
    <BlogLayout>
        <Header />
        <BlogHome posts={posts} tags={tags} />
        <Footer />
    </BlogLayout>
</BaseLayout>
