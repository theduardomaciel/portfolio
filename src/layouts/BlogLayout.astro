---
---

<script>
    // Scrolls the element to the left or right when the mouse wheel is scrolled
    const scrolls = document.querySelectorAll(".scroller");
    scrolls.forEach((scroll) => {
        scroll.addEventListener("wheel", function (event: any) {
            if (event.deltaY > 0) {
                scroll.scrollTo({
                    top: 0,
                    left: scroll.scrollLeft + 100,
                    behavior: "smooth",
                });
                event.preventDefault();
                // preventDefault() will help avoid worrisome
            } else {
                scroll.scrollTo({
                    top: 0,
                    left: scroll.scrollLeft - 100,
                    behavior: "smooth",
                });
                event.preventDefault();
            }
        });
    });

    // Tags
    const tags = document.querySelectorAll(".tags .tag");
    const selectionCircle = document.getElementById(
        "selectionCircle"
    ) as HTMLDivElement;

    function updateSelectionCircle(button: HTMLElement) {
        if (button) {
            button.appendChild(selectionCircle);
        }
    }

    const category = window.location.pathname.split("/")[3];
    tags.forEach((tag) => {
        if (tag.getAttribute("title") === category) {
            tag.classList.add("active");
            updateSelectionCircle(tag as HTMLElement);
        }

        tag.addEventListener("click", function (event: any) {
            tags.forEach((tag) => {
                tag.classList.remove("active");
            });
            event.target.classList.add("active");
            updateSelectionCircle(event.target);
        });
    });
</script>

<slot />
